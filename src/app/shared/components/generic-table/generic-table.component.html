<div class="overflow-x-auto max-h-96">
  <table class="min-w-full divide-y divide-gray-200 bg-white">
    <!-- Table Header -->
    <thead>
      <tr class="bg-[#6B7C9D] text-white">
        <th *ngFor="let column of columns" class="px-5 py-1 text-left font-medium  tracking-wider">
          {{ column.header }}
        </th>
        <th *ngIf="showActions">Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr
        *ngFor="let row of data"
        class="px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider"
        (click)="selectRow(row)"
        [class.selected]="selectedRow === row"
      >
        <td *ngFor="let column of columns" class="px-3 py-4 border-t border-gray-200">
          {{ getNestedValue(row, column.key) }}
        </td>
    
        <!-- âœ… Show actions only if enabled, inside a correctly aligned column -->
        <td *ngIf="showActions" class="px-6 py-4 border-t border-gray-200 flex gap-4" (click)="$event.stopPropagation()">
          <button *ngIf="canUpdate"
          class=" text-md text-indigo-600 hover:text-indigo-900 p-2 rounded hover:bg-indigo-50"
          (click)="update(row)">
            <i class="bi bi-pencil"></i>
          </button>
          <button *ngIf="canDelete"         
          class="text-md text-red-500 hover:text-red-900 p-2 rounded hover:bg-red-50"
          (click)="delete(row)">
            <i class="bi bi-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
